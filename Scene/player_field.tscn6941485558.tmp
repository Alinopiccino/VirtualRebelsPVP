[gd_scene load_steps=37 format=3 uid="uid://bkx2nydgmhnop"]

[ext_resource type="Script" uid="uid://mhnnyqbkjiwh" path="res://Scene/GameSetup.gd" id="1_rwyy7"]
[ext_resource type="Script" uid="uid://gutrgdj4rmsl" path="res://Scripts/InserimentoDeck.gd" id="1_wawig"]
[ext_resource type="PackedScene" uid="uid://h1c0uc7u0h6r" path="res://Scene/Card.tscn" id="2_rwyy7"]
[ext_resource type="Script" uid="uid://jmy3uo0jdcjr" path="res://Scripts/card_manager.gd" id="3_aifdw"]
[ext_resource type="Script" uid="uid://ma2p6fts1f7v" path="res://Scripts/input_manager.gd" id="4_g20td"]
[ext_resource type="PackedScene" uid="uid://bpb4ljr5q8fb5" path="res://Scene/card_slot.tscn" id="5_225pa"]
[ext_resource type="Script" uid="uid://es340uv1h6fc" path="res://Scripts/CreatureCardSlot.gd" id="6_vobt0"]
[ext_resource type="Script" uid="uid://c0h5iua6g02js" path="res://Scripts/SpellCardSlot.gd" id="7_onb2x"]
[ext_resource type="Script" uid="uid://dev5d6lf0cjb4" path="res://Scripts/player_hand.gd" id="8_f8xqc"]
[ext_resource type="Script" uid="uid://dqv0e1edprlh6" path="res://Scripts/deck.gd" id="9_7yhcc"]
[ext_resource type="PackedScene" uid="uid://cpkmgeqgtpd1r" path="res://Scene/Enemy_card_slot.tscn" id="10_g20td"]
[ext_resource type="Resource" uid="uid://dlu7x81diwaoe" path="res://DeckResources/Deck2.tres" id="10_gm5u4"]
[ext_resource type="Texture2D" uid="uid://bytdqg80bi846" path="res://Assets/CardSlot.png" id="12_frrmm"]
[ext_resource type="Script" uid="uid://n3jlp7s23shg" path="res://Scripts/combat_manager.gd" id="13_vy6tj"]
[ext_resource type="Script" uid="uid://wjpfvsgf5ony" path="res://Scripts/Player_GYclick.gd" id="14_ba1e6"]
[ext_resource type="Texture2D" uid="uid://b0783gurfei0i" path="res://Assets/CardImages/BackMano2.png" id="14_vy6tj"]
[ext_resource type="Script" uid="uid://btwsi426pmyiq" path="res://Scripts/Player_GY.gd" id="16_vd8tq"]
[ext_resource type="Script" uid="uid://cikt2jq28gq33" path="res://Scene/phase_manager.gd" id="17_g20td"]
[ext_resource type="Texture2D" uid="uid://bcqy48w4qwmom" path="res://Assets/SPELLPOWER ICON.png" id="18_ba1e6"]
[ext_resource type="Texture2D" uid="uid://5q7iohemkifu" path="res://Assets/SPADA ICONA.png" id="18_vobt0"]
[ext_resource type="Texture2D" uid="uid://cwykxa01a7mv5" path="res://Assets/SCUDO ICONA.png" id="19_onb2x"]
[ext_resource type="Script" uid="uid://delbjee3vpasv" path="res://Scene/choose_position_popup.gd" id="20_onb2x"]
[ext_resource type="Script" uid="uid://bs15k2437dca7" path="res://Scene/action_buttons.gd" id="21_f8xqc"]
[ext_resource type="Script" uid="uid://mmaey6tqspid" path="res://Scene/mana_slot_manager.gd" id="22_7yhcc"]
[ext_resource type="Texture2D" uid="uid://ohd6fdqp2blt" path="res://Assets/UI/clessidra.png" id="23_gm5u4"]
[ext_resource type="Script" uid="uid://bfoq7m41csq6g" path="res://Scene/gy_popup.gd" id="25_frrmm"]
[ext_resource type="Script" uid="uid://bephcefek25vy" path="res://Scene/card_preview_manager.gd" id="26_vy6tj"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_frrmm"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xa1iw"]
size = Vector2(150, 209)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m0mch"]
size = Vector2(1013.33, 1240)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_g20td"]
bg_color = Color(0, 0, 0, 0.392157)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.803922, 0.466667, 0.133333, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7yhcc"]
bg_color = Color(0, 0, 0, 0.392157)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.803922, 0.466667, 0.133333, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_225pa"]
bg_color = Color(0, 0, 0, 0.392157)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.803922, 0.466667, 0.133333, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_vobt0"]
bg_color = Color(0, 0, 0, 0.392157)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.803922, 0.466667, 0.133333, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_onb2x"]
bg_color = Color(0, 0, 0, 0.392157)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.803922, 0.466667, 0.133333, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_f8xqc"]
bg_color = Color(0, 0, 0, 0.392157)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.803922, 0.466667, 0.133333, 0)

[node name="PlayerField" type="Node2D"]
script = ExtResource("1_rwyy7")

[node name="InputManager" type="Node2D" parent="."]
script = ExtResource("4_g20td")

[node name="CardManager" type="Node2D" parent="."]
script = ExtResource("3_aifdw")
card_field_path = NodePath("../CardField")

[node name="ChoosePositionPopup" type="PopupPanel" parent="."]
initial_position = 2
size = Vector2i(1000, 600)
theme_override_styles/panel = SubResource("StyleBoxEmpty_frrmm")
script = ExtResource("20_onb2x")

[node name="CreatureOptions" type="HBoxContainer" parent="ChoosePositionPopup"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 1000.0
offset_bottom = 600.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
theme_override_constants/separation = 500
alignment = 1

[node name="AttackWrapper" type="Control" parent="ChoosePositionPopup/CreatureOptions"]
custom_minimum_size = Vector2(50, 150)
layout_mode = 2
size_flags_horizontal = 3

[node name="AttackPreview" type="TextureButton" parent="ChoosePositionPopup/CreatureOptions/AttackWrapper"]
layout_mode = 2
offset_right = 792.0

[node name="AtkLabel" type="RichTextLabel" parent="ChoosePositionPopup/CreatureOptions/AttackWrapper/AttackPreview"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
layout_mode = 0
offset_left = 100.0
offset_top = 660.0
offset_right = 140.0
offset_bottom = 700.0
scale = Vector2(5, 5)

[node name="HpLabel" type="RichTextLabel" parent="ChoosePositionPopup/CreatureOptions/AttackWrapper/AttackPreview"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
layout_mode = 0
offset_left = 470.0
offset_top = 660.0
offset_right = 510.0
offset_bottom = 700.0
scale = Vector2(5, 5)

[node name="DefenseWrapper" type="Control" parent="ChoosePositionPopup/CreatureOptions"]
custom_minimum_size = Vector2(50, 150)
layout_mode = 2

[node name="DefensePreview" type="TextureButton" parent="ChoosePositionPopup/CreatureOptions/DefenseWrapper"]
layout_mode = 2
offset_top = 4.0
offset_right = 792.0
offset_bottom = 4.0

[node name="AtkLabel" type="RichTextLabel" parent="ChoosePositionPopup/CreatureOptions/DefenseWrapper/DefensePreview"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
layout_mode = 0
offset_left = 100.0
offset_top = 660.0
offset_right = 140.0
offset_bottom = 700.0
scale = Vector2(5, 5)

[node name="HpLabel" type="RichTextLabel" parent="ChoosePositionPopup/CreatureOptions/DefenseWrapper/DefensePreview"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
layout_mode = 0
offset_left = 470.0
offset_top = 660.0
offset_right = 510.0
offset_bottom = 700.0
scale = Vector2(5, 5)

[node name="SpellOptions" type="HBoxContainer" parent="ChoosePositionPopup"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 1000.0
offset_bottom = 600.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
alignment = 1

[node name="FaceupWrapper" type="Control" parent="ChoosePositionPopup/SpellOptions"]
layout_mode = 2

[node name="FaceupPreview" type="TextureButton" parent="ChoosePositionPopup/SpellOptions/FaceupWrapper"]
layout_mode = 2
offset_top = 8.0
offset_right = 792.0
offset_bottom = 8.0

[node name="SpellMultiLabel" type="RichTextLabel" parent="ChoosePositionPopup/SpellOptions/FaceupWrapper/FaceupPreview"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
layout_mode = 0
offset_left = 560.0
offset_top = 700.0
offset_right = 600.0
offset_bottom = 740.0
scale = Vector2(3, 3)

[node name="SpellDurLabel" type="RichTextLabel" parent="ChoosePositionPopup/SpellOptions/FaceupWrapper/FaceupPreview"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
layout_mode = 0
offset_left = 635.0
offset_top = 900.0
offset_right = 675.0
offset_bottom = 940.0
scale = Vector2(3, 3)

[node name="FacedownWrapper" type="Control" parent="ChoosePositionPopup/SpellOptions"]
layout_mode = 2

[node name="FacedownPreview" type="TextureButton" parent="ChoosePositionPopup/SpellOptions/FacedownWrapper"]
layout_mode = 2
offset_top = 12.0
offset_right = 792.0
offset_bottom = 12.0

[node name="EnemyCardManager" type="Node2D" parent="."]

[node name="Inserimento deck" type="Node2D" parent="."]
position = Vector2(1.52588e-05, 6.10352e-05)
script = ExtResource("1_wawig")
card_scene = ExtResource("2_rwyy7")

[node name="CardField" type="Node2D" parent="."]

[node name="CardContainer" type="Node2D" parent="."]

[node name="PlayerZones" type="Node2D" parent="."]

[node name="CreatureSlot1" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(620, 614)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="CreatureSlot2" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(785, 614)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="CreatureSlot3" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(950, 614)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="CreatureSlot4" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(1115, 614)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="CreatureSlot5" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(1280, 614)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="SpellSlot1" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(620, 790)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="SpellSlot2" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(785, 790)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="SpellSlot3" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(950, 790)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="SpellSlot4" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(1115, 790)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="SpellSlot5" parent="PlayerZones" instance=ExtResource("5_225pa")]
position = Vector2(1280, 790)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="EnemyCreatureSlot1" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(1280, 371)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="EnemyCreatureSlot2" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(1115, 371)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="EnemyCreatureSlot3" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(950, 371)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="EnemyCreatureSlot4" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(785, 371)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="EnemyCreatureSlot5" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(620, 371)
scale = Vector2(0.15, 0.15)
script = ExtResource("6_vobt0")

[node name="EnemySpellSlot5" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(620, 196)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="EnemySpellSlot4" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(785, 196)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="EnemySpellSlot3" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(950, 196)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="EnemySpellSlot2" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(1115, 196)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="EnemySpellSlot1" parent="PlayerZones" instance=ExtResource("10_g20td")]
position = Vector2(1280, 196)
scale = Vector2(0.15, 0.15)
script = ExtResource("7_onb2x")

[node name="PlayerHand" type="Node2D" parent="."]
script = ExtResource("8_f8xqc")

[node name="Deck" type="Node2D" parent="."]
position = Vector2(1800, 890)
script = ExtResource("9_7yhcc")
deck_data = ExtResource("10_gm5u4")

[node name="Sprite2D" type="Sprite2D" parent="Deck"]
z_index = -2
texture = ExtResource("14_vy6tj")

[node name="Sprite2D2" type="Sprite2D" parent="Deck"]
z_index = -3
scale = Vector2(0.2, 0.2)
texture = ExtResource("12_frrmm")

[node name="Area2D" type="Area2D" parent="Deck"]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Deck/Area2D"]
z_index = -2
position = Vector2(0, -0.5)
shape = SubResource("RectangleShape2D_xa1iw")

[node name="RichTextLabel" type="RichTextLabel" parent="Deck"]
z_index = -2
offset_left = -11.0
offset_top = -30.0
offset_right = 34.0
offset_bottom = 22.0
scale = Vector2(2.5, 2.5)
text = "0"
metadata/_edit_use_anchors_ = true

[node name="DeckTimer" type="Timer" parent="Deck"]

[node name="PlayerGY" type="Node2D" parent="."]
z_index = -3
position = Vector2(1800, 670)
script = ExtResource("16_vd8tq")

[node name="AttackGYLabel" type="RichTextLabel" parent="PlayerGY"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
z_index = 1001
z_as_relative = false
offset_left = -41.0
offset_top = 21.0
offset_right = -1.0
offset_bottom = 61.0
scale = Vector2(0.75, 0.75)
mouse_filter = 2

[node name="HealthGYLabel" type="RichTextLabel" parent="PlayerGY"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
z_index = 1001
z_as_relative = false
offset_left = 10.0
offset_top = 21.0
offset_right = 50.0
offset_bottom = 61.0
scale = Vector2(0.75, 0.75)
mouse_filter = 2

[node name="SpellMultiGYLabel" type="RichTextLabel" parent="PlayerGY"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
z_index = 1001
offset_left = 22.0
offset_top = 27.0
offset_right = 62.0
offset_bottom = 67.0
scale = Vector2(0.5, 0.5)
mouse_filter = 2

[node name="SpellDurGYLabel" type="RichTextLabel" parent="PlayerGY"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(0, 0, 0, 1)
z_index = 1001
offset_left = 32.0
offset_top = 57.0
offset_right = 72.0
offset_bottom = 97.0
scale = Vector2(0.5, 0.5)
mouse_filter = 2

[node name="Sprite2D" type="Sprite2D" parent="PlayerGY"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("12_frrmm")

[node name="Area2D" type="Area2D" parent="PlayerGY"]
z_index = 1001
collision_layer = 128
collision_mask = 128
script = ExtResource("14_ba1e6")

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerGY/Area2D"]
z_index = 1001
z_as_relative = false
position = Vector2(21, 15)
scale = Vector2(0.15, 0.15)
shape = SubResource("RectangleShape2D_m0mch")

[node name="RichTextLabel" type="RichTextLabel" parent="PlayerGY"]
z_index = 1002
offset_left = -9.0
offset_top = -24.0
offset_right = 31.0
offset_bottom = 16.0
scale = Vector2(2, 2)
text = "0
"

[node name="HighlightBorder" type="ColorRect" parent="PlayerGY"]
visible = false
z_index = -2
offset_left = -59.0
offset_top = -81.0
offset_right = 726.0
offset_bottom = 1004.0
scale = Vector2(0.15, 0.15)

[node name="TopCardSprite" type="Sprite2D" parent="PlayerGY"]
z_index = 200
scale = Vector2(0.75, 0.75)

[node name="PlayerSP" type="RichTextLabel" parent="."]
z_index = 1
offset_left = 97.0
offset_top = 929.0
offset_right = 137.0
offset_bottom = 969.0
scale = Vector2(2, 2)
bbcode_enabled = true
text = "0
"
horizontal_alignment = 1

[node name="PlayerSPicon" type="TextureRect" parent="."]
offset_left = 96.0
offset_top = 925.0
offset_right = 307.0
offset_bottom = 1144.0
scale = Vector2(0.2, 0.2)
texture = ExtResource("18_ba1e6")

[node name="PlayerLP" type="RichTextLabel" parent="."]
offset_left = 56.0
offset_top = 862.0
offset_right = 116.0
offset_bottom = 887.0
scale = Vector2(2.5, 2.5)
bbcode_enabled = true
text = "0"

[node name="CombatManager" type="Node" parent="."]
script = ExtResource("13_vy6tj")

[node name="BattleTimer" type="Timer" parent="."]

[node name="PhaseManager" type="Node" parent="."]
script = ExtResource("17_g20td")

[node name="PlayerPassPhaseButton" type="Button" parent="."]
offset_left = 1450.0
offset_top = 500.0
offset_right = 1630.0
offset_bottom = 580.0
text = "PASS PHASE"

[node name="EnemyPassPhaseButton" type="Button" parent="."]
visible = false
offset_left = 1450.0
offset_top = 410.0
offset_right = 1630.0
offset_bottom = 490.0
text = "PASS PHASE"

[node name="PhaseIndicators" type="HBoxContainer" parent="."]
z_index = -10
offset_left = 547.0
offset_top = 456.0
offset_right = 1351.0
offset_bottom = 528.0

[node name="StartPhasePanel" type="Panel" parent="PhaseIndicators"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_g20td")

[node name="SPLabel" type="Label" parent="PhaseIndicators/StartPhasePanel"]
layout_mode = 0
offset_right = 63.0
offset_bottom = 36.0
scale = Vector2(2, 2)
text = "SP"
horizontal_alignment = 1
vertical_alignment = 1

[node name="UpkeepPhasePanel" type="Panel" parent="PhaseIndicators"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_7yhcc")

[node name="UPLabel" type="Label" parent="PhaseIndicators/UpkeepPhasePanel"]
layout_mode = 0
offset_right = 63.0
offset_bottom = 36.0
scale = Vector2(2, 2)
text = "UP"
horizontal_alignment = 1
vertical_alignment = 1

[node name="MainPhasePanel" type="Panel" parent="PhaseIndicators"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_225pa")

[node name="MPLabel" type="Label" parent="PhaseIndicators/MainPhasePanel"]
layout_mode = 0
offset_right = 63.0
offset_bottom = 36.0
scale = Vector2(2, 2)
text = "MP"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PrepPhasePanel" type="Panel" parent="PhaseIndicators"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_vobt0")

[node name="PPLabel" type="Label" parent="PhaseIndicators/PrepPhasePanel"]
layout_mode = 0
offset_right = 63.0
offset_bottom = 36.0
scale = Vector2(2, 2)
text = "PP"
horizontal_alignment = 1
vertical_alignment = 1

[node name="BattlePhasePanel" type="Panel" parent="PhaseIndicators"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_onb2x")

[node name="BPLabel" type="Label" parent="PhaseIndicators/BattlePhasePanel"]
layout_mode = 0
offset_right = 63.0
offset_bottom = 36.0
scale = Vector2(2, 2)
text = "BP"
horizontal_alignment = 1
vertical_alignment = 1

[node name="EndPhasePanel" type="Panel" parent="PhaseIndicators"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
theme_override_styles/panel = SubResource("StyleBoxFlat_f8xqc")

[node name="EPLabel" type="Label" parent="PhaseIndicators/EndPhasePanel"]
layout_mode = 0
offset_right = 63.0
offset_bottom = 36.0
scale = Vector2(2, 2)
text = "EP"
horizontal_alignment = 1
vertical_alignment = 1

[node name="PlayerDefenderIcon" type="TextureRect" parent="."]
visible = false
offset_left = 350.0
offset_top = 550.0
offset_right = 2350.0
offset_bottom = 2550.0
scale = Vector2(0.06, 0.06)
mouse_filter = 2
texture = ExtResource("19_onb2x")

[node name="PlayerAttackerIcon" type="TextureRect" parent="."]
visible = false
offset_left = 350.0
offset_top = 550.0
offset_right = 2350.0
offset_bottom = 2550.0
scale = Vector2(0.06, 0.06)
mouse_filter = 2
texture = ExtResource("18_vobt0")

[node name="EnemyDefenderIcon" type="TextureRect" parent="."]
visible = false
offset_left = 350.0
offset_top = 330.0
offset_right = 2350.0
offset_bottom = 2330.0
scale = Vector2(0.06, 0.06)
mouse_filter = 2
texture = ExtResource("19_onb2x")

[node name="EnemyAttackerIcon" type="TextureRect" parent="."]
visible = false
offset_left = 350.0
offset_top = 330.0
offset_right = 2350.0
offset_bottom = 2330.0
scale = Vector2(0.06, 0.06)
mouse_filter = 2
texture = ExtResource("18_vobt0")

[node name="HourglassIcon" type="TextureRect" parent="."]
z_index = 1000
offset_left = 1507.0
offset_top = 504.0
offset_right = 1569.0
offset_bottom = 577.0
texture = ExtResource("23_gm5u4")
expand_mode = 1

[node name="ActionButtons" type="Node2D" parent="."]
script = ExtResource("21_f8xqc")

[node name="EnemyResolveButton" type="Button" parent="ActionButtons"]
modulate = Color(0, 0.490196, 0.886275, 1)
offset_left = 1450.0
offset_top = 410.0
offset_right = 1590.0
offset_bottom = 470.0
scale = Vector2(1.3, 1.3)
text = "RESOLVE
"

[node name="PlayerOkButton" type="Button" parent="ActionButtons"]
modulate = Color(1, 0.72549, 0, 1)
offset_left = 1450.0
offset_top = 609.0
offset_right = 1525.0
offset_bottom = 661.0
scale = Vector2(1.5, 1.5)
text = "OK"

[node name="PlayerResolveButton" type="Button" parent="ActionButtons"]
modulate = Color(0, 0.490196, 0.886275, 1)
offset_left = 1450.0
offset_top = 500.0
offset_right = 1590.0
offset_bottom = 560.0
scale = Vector2(1.3, 1.3)
text = "RESOLVE
"

[node name="PlayerGoToCombatButton" type="Button" parent="ActionButtons"]
modulate = Color(0, 0.490196, 0.886275, 1)
offset_left = 1450.0
offset_top = 500.0
offset_right = 1590.0
offset_bottom = 560.0
scale = Vector2(1.3, 1.3)
text = "GO TO COMBAT
"

[node name="PlayerToDamageStepButton" type="Button" parent="ActionButtons"]
modulate = Color(0, 0.490196, 0.886275, 1)
offset_left = 1448.0
offset_top = 501.0
offset_right = 1591.0
offset_bottom = 561.0
scale = Vector2(1.3, 1.3)
text = "TO DAMAGE STEP
"

[node name="PlayerRetaliateButton" type="Button" parent="ActionButtons"]
modulate = Color(1, 0.160784, 0, 1)
offset_left = 1450.0
offset_top = 500.0
offset_right = 1590.0
offset_bottom = 560.0
scale = Vector2(1.3, 1.3)
text = "RETALIATE"

[node name="PlayerDirectAttackButton" type="Button" parent="ActionButtons"]
modulate = Color(1, 0.160784, 0, 1)
offset_left = 1450.0
offset_top = 500.0
offset_right = 1590.0
offset_bottom = 560.0
scale = Vector2(1.3, 1.3)
text = "DIRECT ATTACK
"

[node name="EnemyOkButton" type="Button" parent="ActionButtons"]
modulate = Color(1, 0.72549, 0, 1)
offset_left = 1450.0
offset_top = 410.0
offset_right = 1525.0
offset_bottom = 462.0
scale = Vector2(1.5, 1.5)
text = "OK"

[node name="EnemyRetaliateButton" type="Button" parent="ActionButtons"]
modulate = Color(1, 0.160784, 0, 1)
offset_left = 1450.0
offset_top = 410.0
offset_right = 1590.0
offset_bottom = 470.0
scale = Vector2(1.3, 1.3)
text = "RETALIATE"

[node name="PromptLabels" type="Node2D" parent="."]

[node name="DrawPromptLabel" type="Label" parent="PromptLabels"]
visible = false
offset_left = 1450.0
offset_top = 752.0
offset_right = 1641.0
offset_bottom = 775.0
scale = Vector2(1.3, 1.3)
text = "DRAW YOUR TURN CARD"

[node name="PlayerEnchainLabel" type="RichTextLabel" parent="PromptLabels"]
visible = false
offset_left = 1449.0
offset_top = 659.0
offset_right = 1598.0
offset_bottom = 708.0
scale = Vector2(1.5, 1.5)
bbcode_enabled = true
text = "YOU MAY [color=green]ENCHAIN[/color]
CARDS OR EFFECTS"
horizontal_alignment = 3

[node name="PlayerSelectionLabel" type="RichTextLabel" parent="PromptLabels"]
offset_left = 1447.0
offset_top = 659.0
offset_right = 1599.0
offset_bottom = 713.0
scale = Vector2(1.5, 1.5)
bbcode_enabled = true
horizontal_alignment = 1

[node name="ProceedStepLabel" type="RichTextLabel" parent="PromptLabels"]
offset_left = 1447.0
offset_top = 659.0
offset_right = 1625.0
offset_bottom = 713.0
scale = Vector2(1.5, 1.5)
text = "
"

[node name="ManaSlots" type="VBoxContainer" parent="."]
offset_left = 69.0
offset_top = 566.0
offset_right = 80.0
offset_bottom = 577.0
theme_override_constants/separation = -10
script = ExtResource("22_7yhcc")

[node name="ExtraManaSlots" type="VBoxContainer" parent="."]
offset_left = 121.0
offset_top = 566.0
offset_right = 132.0
offset_bottom = 577.0
theme_override_constants/separation = -10
script = ExtResource("22_7yhcc")
is_extra = true

[node name="GYPopup" type="PopupPanel" parent="."]
size = Vector2i(800, 700)
script = ExtResource("25_frrmm")

[node name="ScrollContainer" type="ScrollContainer" parent="GYPopup"]
offset_left = 4.0
offset_top = 4.0
offset_right = 796.0
offset_bottom = 696.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="MarginContainer" type="MarginContainer" parent="GYPopup/ScrollContainer"]
layout_mode = 2
theme_override_constants/margin_left = 15
theme_override_constants/margin_top = 15
theme_override_constants/margin_right = 15
theme_override_constants/margin_bottom = 15

[node name="GridContainer" type="GridContainer" parent="GYPopup/ScrollContainer/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 2

[node name="CardPreviewManager" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
script = ExtResource("26_vy6tj")

[node name="PreviewContainer" type="Control" parent="CardPreviewManager"]
layout_mode = 3
anchors_preset = 0
mouse_filter = 2

[node name="CardPreview" type="TextureRect" parent="CardPreviewManager/PreviewContainer"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
mouse_filter = 2

[node name="AttackPreview" type="RichTextLabel" parent="CardPreviewManager/PreviewContainer"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(5, 5)
mouse_filter = 2
bbcode_enabled = true

[node name="HealthPreview" type="RichTextLabel" parent="CardPreviewManager/PreviewContainer"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(5, 5)
mouse_filter = 2
bbcode_enabled = true

[node name="SpellMultiplierPreview" type="RichTextLabel" parent="CardPreviewManager/PreviewContainer"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(2.5, 2.5)

[node name="SpellDurationPreview" type="RichTextLabel" parent="CardPreviewManager/PreviewContainer"]
layout_mode = 0
offset_left = 50.0
offset_top = 243.0
offset_right = 90.0
offset_bottom = 283.0
scale = Vector2(2.5, 2.5)

[node name="TooltipPanel" type="Panel" parent="CardPreviewManager/PreviewContainer"]
visible = false
custom_minimum_size = Vector2(750, 0)
layout_mode = 0
offset_right = 750.0
offset_bottom = 200.0
mouse_filter = 2

[node name="MarginContainer" type="MarginContainer" parent="CardPreviewManager/PreviewContainer/TooltipPanel"]
custom_minimum_size = Vector2(750, 200)
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
mouse_filter = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="TooltipText" type="RichTextLabel" parent="CardPreviewManager/PreviewContainer/TooltipPanel/MarginContainer"]
custom_minimum_size = Vector2(750, 200)
layout_mode = 2
size_flags_vertical = 0
mouse_filter = 2
bbcode_enabled = true
fit_content = true
scroll_active = false

[node name="DebuffTooltipPanel" type="Panel" parent="CardPreviewManager/PreviewContainer"]
visible = false
custom_minimum_size = Vector2(750, 0)
layout_mode = 0
offset_right = 750.0
offset_bottom = 200.0
mouse_filter = 2

[node name="MarginContainer" type="MarginContainer" parent="CardPreviewManager/PreviewContainer/DebuffTooltipPanel"]
custom_minimum_size = Vector2(750, 200)
layout_mode = 0
offset_right = 790.0
offset_bottom = 240.0
mouse_filter = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 40
theme_override_constants/margin_bottom = 20

[node name="DebuffTooltipText" type="RichTextLabel" parent="CardPreviewManager/PreviewContainer/DebuffTooltipPanel/MarginContainer"]
custom_minimum_size = Vector2(750, 200)
layout_mode = 2
size_flags_vertical = 0
mouse_filter = 2
bbcode_enabled = true
fit_content = true
scroll_active = false
